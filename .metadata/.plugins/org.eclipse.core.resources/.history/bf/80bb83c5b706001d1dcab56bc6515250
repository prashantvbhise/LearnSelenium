package loginTest;

import java.util.List;

import org.openqa.selenium.By;
import org.openqa.selenium.WebElement;
import org.openqa.selenium.support.ui.Select;
import org.testng.annotations.Test;

public class LoginScenarios extends CommonFunction {
	//@Test
	public void logonMethod() throws InterruptedException {

		driver.findElement(By.xpath("//input[@id='user-name']")).sendKeys("standard_user");

		driver.findElement(By.xpath("//input[@placeholder='Password']")).sendKeys("secret_sauce");

		driver.findElement(By.xpath("//input[@name='login-button']")).click();

		Thread.sleep(1000);

		Select sortOptions = new Select(driver.findElement(By.xpath("//select[@data-test='product_sort_container']")));

		sortOptions.selectByValue("za");

		/*
		 * sortOptions.selectByVisibleText("Price (low to high)");
		 * 
		 * sortOptions.selectByIndex(3);
		 * 
		 * List<WebElement> inventoryList =
		 * driver.findElements(By.xpath("//div[@class='inventory_item']"));
		 * 
		 * System.out.println(inventoryList);
		 */

		driver.findElement(By.xpath("//button[@id='react-burger-menu-btn']")).click();

		driver.findElement(By.xpath("//a[text()='Logout']")).click();

	}
	
	@Test
	public void viewProductDetails() {
		
		driver.findElement(By.xpath("//input[@id='user-name']")).sendKeys("standard_user");

		driver.findElement(By.xpath("//input[@placeholder='Password']")).sendKeys("secret_sauce");

		driver.findElement(By.xpath("//input[@name='login-button']")).click();
		
		//need to understand why this is not working
		List<WebElement> productList= driver.findElements(By.className("inventory_item_name"));
		
		//System.out.println(productList.toString());
		
		System.out.println(productList.size());

        for (WebElement webElement : productList) {
            String name = webElement.getText();
            System.out.println(name);
        }
		
		driver.findElement(By.xpath("//div[text()='Sauce Labs Backpack']")).click();
		
		driver.findElement(By.id("add-to-cart-sauce-labs-backpack")).click();
		
		driver.findElement(By.id("back-to-products")).click();
		
		
	}

}
